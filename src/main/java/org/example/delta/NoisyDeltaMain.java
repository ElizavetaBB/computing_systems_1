package org.example.delta;

import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

public class NoisyDeltaMain {
    public static void main(String[] args) {
        String[] stringClearData1 = {
                "0.7490100465512464;0.6961395106471574;0.725557118224003",
                "0.8980639312664833;0.853028284037824;0.5771623728332526",
                "0.9079746649670285;0.7919452575288116;0.581363971212363",
                "0.8542658602087521;0.9324485519876604;0.5997613480835768",
                "0.9600355458471803;0.8964891352926853;0.7208583609064142",
                "0.7079885747212105;0.7637880771017247;0.624341294260188",
                "0.6720096900447322;0.7090546976481051;0.6736725380117903",
                "0.9146692149306899;0.8638187443498565;0.6809572207974727",
                "0.9500659006685103;0.8745213510507116;0.6273114656616693",
                "0.9024502810962147;0.9556875774186444;0.6768130919630965",
                "0.7194074078625353;0.851886307402328;0.7734060635527086",
                "0.8551640921504737;0.9558093775791067;0.7675272181135047",
                "0.9223001808681475;0.811101651815355;0.5425915312383393",
                "0.8685933572882336;0.8947555003146479;0.544856683040925",
                "0.7566551175823301;0.9197831547504347;0.6798630433392598",
                "0.945428538677214;0.8563546648776043;0.6695868076800917",
                "0.7736613114314737;0.816234146489077;0.7465225411723536",
                "0.7410439973472592;0.6775175758133304;0.7826145233549263",
                "0.808719709104303;0.7711178501760718;0.7119852132461165",
                "0.9449006030168345;0.9029094538385783;0.7472569160811298",
                "0.9541921253438272;0.8732461072315458;0.6536297416784866",
        };

        String[] stringClearData2 = {
                "0.7369097254770944;0.7057719294899218;0.663204741287011",
                "0.8778170152621549;0.8336221203707455;0.5639264186254228",
                "0.8727513014133976;0.7429032502964005;0.5764450523239205",
                "0.8410940134447303;0.9231953866320624;0.5932905108884484",
                "0.9664364054069281;0.913472111777839;0.7233256352804661",
                "0.6826783578555261;0.7707909884116682;0.5616898017234219",
                "0.6522991977946917;0.7676968640939643;0.588586219972204",
                "0.9036219326406942;0.8521906642403386;0.6727046454119443",
                "0.9420466673112092;0.8692525749016731;0.6339693396506049",
                "0.9168179377271053;0.9600998161857283;0.6851492849125731",
                "0.695527213196765;0.8442825255668399;0.7458993762643357",
                "0.8751176106482984;0.9562837225874411;0.7837619462362198",
                "0.878183060019006;0.7574036642660124;0.543826399188472",
                "0.8324893881165597;0.8732901686151003;0.5395077405143659",
                "0.7354103442451019;0.9042106171883388;0.6617752791748402",
                "0.9387884803033146;0.8398053610172392;0.6693031175437897",
                "0.7492573184312077;0.8089133223379691;0.7149517512144924",
                "0.7255984386030433;0.7043396303616604;0.7366973566454811",
                "0.7862064253478612;0.7609821619874649;0.6805382197818718",
                "0.9503610600690715;0.9123623315003343;0.7468184665956551",
                "0.946239304505453;0.8670550421895395;0.6611424168000599"
        };

        String[] stringClearData3 = {
                "0.7052592832980467;0.667545703447904;0.7473828303097906",
                "0.8322605458392505;0.7990688849640639;0.6016000206595702",
                "0.813682842430495;0.7649970566145029;0.5947050746870053",
                "0.8545171092088347;0.8482697009972632;0.6277254416133877",
                "0.9479837319511376;0.9390319356614112;0.7113652525728894",
                "0.7174601963707217;0.6822929160094892;0.6609495937249644",
                "0.6822737022228638;0.6484349490225058;0.7238975185487476",
                "0.8622525306566331;0.8495076057701654;0.6771922980478462",
                "0.9055776858860611;0.8770113010484804;0.6216893847316924",
                "0.9299310580552121;0.933470580717413;0.6844603935417098",
                "0.7573778228069061;0.7693538894678441;0.780735365688323",
                "0.9054668175822493;0.9246180347188727;0.7551201633879385",
                "0.8207770941636735;0.7703192100963488;0.5817523896713641",
                "0.8240357174054165;0.795219562859474;0.5907482353389485",
                "0.8029162727153297;0.8233300818552979;0.700670464941941",
                "0.8925616815346994;0.8686649280959647;0.6655883776776469",
                "0.7522021410555424;0.742612655834238;0.7576100408546689",
                "0.6922134711622169;0.6603177108218655;0.8099938131643531",
                "0.7686553860589718;0.7375541972297689;0.6882838533030049",
                "0.9279801037603918;0.9276498930754578;0.7488030633852084",
                "0.9121385253490599;0.8888067910119228;0.6396414418393238"
        };

        String[] stringClearData4 = {
                "0.7400168699702844;0.6935597870796009;0.7418182772979153",
                "0.8446096863538192;0.8321622607827295;0.6035555838131368",
                "0.8228369452837476;0.7921503612668868;0.617780461299675",
                "0.8688208864257695;0.8754640648107834;0.6146843268932436",
                "0.9441429987529923;0.9408970332190222;0.7083528742101699",
                "0.7811722388714152;0.7536862756723871;0.6465180642322361",
                "0.749112121563682;0.7069292488072634;0.6968352535166831",
                "0.8569290011613089;0.8407740988357406;0.6866378401702101",
                "0.9066176233973994;0.8888694077748548;0.6117025247124954",
                "0.9306714160042154;0.9416371171075165;0.6847090376080057",
                "0.7964132296969811;0.7839259913524961;0.7517978037049678",
                "0.9174469290392235;0.9354840020937096;0.7491015377185941",
                "0.8291635862371205;0.8022354343898246;0.6005922926328634",
                "0.8456678183808655;0.8416755937236403;0.5815196995855592",
                "0.8394612516880664;0.8458715803675096;0.6718270033129496",
                "0.8913780664920636;0.8691311564476443;0.6733497776943472",
                "0.7846959850116074;0.7589016825487584;0.7338408640254168",
                "0.7242812914991996;0.6738457159982814;0.7844978838591065",
                "0.7949956049061717;0.7684114763182991;0.6937338429908547",
                "0.926481021926013;0.9234488833342888;0.743393314494192",
                "0.9094235525238863;0.8907337746286775;0.6329454810485184"
        };

        String[] stringClearData5 = {
                "0.6685462051827706;0.6516380916995301;0.6797457219538214",
                "0.8817568826315806;0.7834946228650521;0.6342126072005032",
                "0.8862382931263727;0.7809974434361002;0.6328208958022633",
                "0.8584178128261574;0.8054377581820916;0.6471591771277773",
                "0.9399122210566754;0.9219153878751597;0.6891740719579431",
                "0.7138123794110404;0.6667965398932136;0.6456054348880067",
                "0.6694275549144798;0.6442968311724795;0.6693984309744115",
                "0.8813128695390448;0.838546880227827;0.6564194429030019",
                "0.9229248133109244;0.8505311562004949;0.6551598917925552",
                "0.9056160487415797;0.9057791564387953;0.6865142611958184",
                "0.6659468201836712;0.6964225383850203;0.7382398747907155",
                "0.837034914387221;0.8962031419812702;0.7487906831753397",
                "0.8985102075378819;0.7880474915560542;0.6342536164398457",
                "0.8781188591308937;0.7809494201591245;0.6337288286628249",
                "0.7463524075790372;0.7724056953853551;0.6963595355043254",
                "0.9119062930171191;0.8579133165333341;0.6591648327585609",
                "0.6776261425790736;0.6922748362982244;0.7089912776770805",
                "0.630872856822093;0.6394984664368774;0.7333074782680843",
                "0.7194606279886041;0.687863650259281;0.6573790636261994",
                "0.9179661713772487;0.9250667011285922;0.6982159477685123",
                "0.93199251663631;0.8751980228466746;0.6649009094966417"
        };

        String[] stringClearData6 = {
                "0.7065598290008163; 0.7138870762139305; 0.933112926697269",
                "0.9024271467181239; 0.9057919152904564; 0.7108949441816436",
                "0.8788236938058022; 0.882826933109863; 0.7688422855775188",
                "0.9065206991036024; 0.90979304287121; 0.7045644910207053",
                "0.9181544686921107; 0.921283480079551; 0.7225128138786173",
                "0.7175185939013451; 0.7246431750874853; 0.926433583902859",
                "0.7042550949414812; 0.7115684828485809; 0.9326237805562078",
                "0.911248433512747; 0.914479939940499; 0.7147939710225153",
                "0.917795371946154; 0.9207747749441016; 0.6781974962138653",
                "0.9197147915657962; 0.9227067053398375; 0.6922613298536174",
                "0.7691847231721338; 0.7757353798335048; 0.9094704167851502",
                "0.9024018104085317; 0.9060640608860296; 0.7765324886181195",
                "0.895728725112679; 0.8992655720826301; 0.7262623984164746",
                "0.9015601758141483; 0.9049331813001671; 0.7096389161797074",
                "0.8667950169825328; 0.871244633360085; 0.811875252660177",
                "0.9175582171428929; 0.920615624751837; 0.6992969480976331",
                "0.7678884838195356; 0.7744066386125209; 0.9074608338998511",
                "0.695938516353893; 0.7034627456864562; 0.9391926287566872",
                "0.7427548656089177; 0.7495807153853928; 0.9167920786760125",
                "0.91713917103256; 0.9203239365578728; 0.7320848266470757",
                "0.9218460575319649; 0.9247361664219215; 0.6738835291650388"
        };

        List<Double> currentDoubleData;
        double circleAverage = 0;
        double circleCount = 0;
        double squareAverage = 0;
        double squareCount = 0;
        double triangleAverage = 0;
        double triangleCount = 0;
        double fullAveragePerClearImage;
        for (String stringData : stringClearData6) {
            currentDoubleData = Arrays.stream(stringData.split(";")).map(Double::parseDouble).collect(Collectors.toList());
            if (currentDoubleData.get(0) > currentDoubleData.get(1)) {
                if (currentDoubleData.get(0) > currentDoubleData.get(2)) {
                    circleAverage += ((currentDoubleData.get(0) - currentDoubleData.get(1)) + (currentDoubleData.get(0) - currentDoubleData.get(2))) / 2;
                    circleCount++;
                    System.out.println("circle");
                } else {
                    triangleAverage += ((currentDoubleData.get(2) - currentDoubleData.get(0)) + (currentDoubleData.get(2) - currentDoubleData.get(1))) / 2;
                    triangleCount++;
                    System.out.println("triangle");
                }
            } else {
                if (currentDoubleData.get(1) > currentDoubleData.get(2)) {
                    squareAverage += ((currentDoubleData.get(1) - currentDoubleData.get(0)) + (currentDoubleData.get(1) - currentDoubleData.get(2))) / 2;
                    squareCount++;
                    System.out.println("square");
                } else {
                    triangleAverage += ((currentDoubleData.get(2) - currentDoubleData.get(0)) + (currentDoubleData.get(2) - currentDoubleData.get(1))) / 2;
                    triangleCount++;
                    System.out.println("triangle");
                }
            }
        }
//        System.out.println("circle average delta = " + (circleAverage / circleCount));
        System.out.println("square average delta = " + (squareAverage / squareCount));
        System.out.println("triangle average delta = " + (triangleAverage / triangleCount));
        fullAveragePerClearImage = (0 + squareAverage / squareCount + triangleAverage / triangleCount) / 3;
        System.out.println("full average delta = " + fullAveragePerClearImage);
    }
}
